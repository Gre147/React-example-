<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ByteMiner Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #00ffcc;
      --secondary: #00ccff;
      --dark-bg: #12131d;
      --darker-bg: #0d0e16;
      --card-bg: rgba(30, 31, 48, 0.7);
      --accent: #6b5ce7;
      --success: #00d46a;
      --warning: #ffaa00;
      --danger: #ff4d4d;
      --gold: #FFD700;
      --silver: #C0C0C0;
      --bronze: #CD7F32;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Courier New', monospace;
    }
    
    body {
      background: linear-gradient(135deg, var(--darker-bg), var(--dark-bg));
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .logo-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(18, 19, 29, 0.95);
      padding: 15px 20px;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 4px 20px rgba(0, 204, 255, 0.3);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 204, 255, 0.2);
    }
    
    .logo-left {
      display: flex;
      align-items: center;
    }
    
    .logo-img {
      width: 45px;
      height: 45px;
      border-radius: 8px;
      margin-right: 15px;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
    }
    
    .logo-left h1 {
      color: var(--primary);
      font-size: 24px;
      margin: 0;
      text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
    }
    
    .info-icon {
      color: var(--primary);
      font-size: 24px;
      cursor: pointer;
      padding: 15px;
      transition: color 0.3s;
    }
    
    .info-icon:hover {
      color: #ffffff;
    }
    
    .wallet-display {
      display: flex;
      align-items: center;
      background: rgba(30, 31, 48, 0.7);
      padding: 8px 15px;
      border-radius: 50px;
      border: 1px solid rgba(0, 204, 255, 0.3);
    }
    
    .coin-icon {
      color: var(--warning);
      margin-right: 8px;
      font-size: 18px;
    }
    
    #dashboard {
      padding: 120px 20px 100px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .section-title {
      color: var(--primary);
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 0 15px rgba(0, 255, 204, 0.4);
      position: relative;
      padding-bottom: 15px;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--primary), transparent);
      border-radius: 3px;
    }
    
    .stats-panel {
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 30px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .stat-card {
      flex: 1;
      min-width: 200px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      border-left: 4px solid var(--accent);
    }
    
    .stat-value {
      font-size: 28px;
      font-weight: bold;
      margin: 10px 0;
      color: var(--primary);
      text-shadow: 0 0 8px rgba(0, 255, 204, 0.3);
    }
    
    .stat-label {
      color: #b0b0d0;
      font-size: 14px;
    }
    
    .mining-container {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin-top: 30px;
    }
    
    .mining-animation-section {
      flex: 1;
      min-width: 300px;
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      position: relative;
      overflow: hidden;
    }
    
    .mining-animation-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
    }
    
    .mining-controls {
      flex: 1;
      min-width: 300px;
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      position: relative;
      overflow: hidden;
    }
    
    .mining-controls::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
    }
    
    .nav-bar {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: rgba(18, 19, 29, 0.95);
      display: flex;
      justify-content: space-around;
      padding: 15px 0;
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 204, 255, 0.2);
      z-index: 10;
    }
    
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #b0b0d0;
      text-decoration: none;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    .nav-item i {
      font-size: 20px;
      margin-bottom: 5px;
    }
    
    .nav-item:hover,
    .nav-item.active {
      color: var(--primary);
    }
    
    .nav-item.active i {
      color: var(--primary);
      text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
    }
    
    .user-panel {
      position: fixed;
      top: 0;
      right: -345px;
      width: 300px;
      height: 100%;
      background-color: #111828;
      color: #fff;
      padding: 20px;
      box-shadow: -3px 0 10px rgba(0, 255, 255, 0.3);
      transition: right 0.4s ease;
      z-index: 999;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    
    .user-panel.active {
      right: 0;
    }
    
    .user-panel h2 {
      color: #00ccff;
      margin-top: 0;
    }
    
    .user-panel p {
      font-size: 16px;
      margin: 8px 0;
    }
    
    .user-panel .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
      color: #ff4d4d;
    }
    
    .logout-btn {
      background-color: #ff4d4d;
      border: none;
      padding: 10px 15px;
      color: white;
      border-radius: 8px;
      margin-top: 20px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .logout-btn:hover {
      background-color: #e60000;
    }
    
    .panel-content {
      flex-grow: 1;
      overflow-y: auto;
    }
    
    .user-panel .footer {
      font-size: 12px;
      color: #888;
      text-align: center;
      padding: 10px 0;
    }
    
    .notification {
      position: fixed;
      top: 80px;
      right: 20px;
      padding: 15px 25px;
      background: rgba(0, 200, 100, 0.9);
      color: white;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      transform: translateX(200%);
      transition: transform 0.4s ease;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    /* Enhanced Crypto Mining Animation */
    .mining-animation {
      position: relative;
      width: 100%;
      height: 220px;
      margin: 20px auto;
    }
    
    .mining-rig {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 80px;
      background: #2c2c3a;
      border-radius: 8px 8px 0 0;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 0 15px;
      box-shadow: 0 0 20px rgba(0, 204, 255, 0.3);
    }
    
    .gpu {
      width: 50px;
      height: 60px;
      background: #3a3a4a;
      border-radius: 5px;
      position: relative;
      overflow: hidden;
    }
    
    .gpu::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 204, 255, 0.4), transparent);
      animation: gpu-light 2s linear infinite;
      animation-play-state: paused;
    }
    
    .mining-animation.playing .gpu::before {
      animation-play-state: running;
    }
    
    .gpu-fan {
      position: absolute;
      top: 5px;
      left: 50%;
      transform: translateX(-50%);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 2px solid #00ccff;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    .fan-blade {
      position: absolute;
      width: 2px;
      height: 12px;
      background: #00ccff;
      top: 4px;
      left: 50%;
      transform-origin: bottom center;
      animation-play-state: paused;
    }
    
    .mining-animation.playing .fan-blade {
      animation: spin 0.5s linear infinite;
    }
    
    .gpu:nth-child(1) .fan-blade {
      transform: rotate(0deg);
    }
    
    .gpu:nth-child(1) .fan-blade:nth-child(2) {
      transform: rotate(90deg);
    }
    
    .gpu:nth-child(1) .fan-blade:nth-child(3) {
      transform: rotate(180deg);
    }
    
    .gpu:nth-child(1) .fan-blade:nth-child(4) {
      transform: rotate(270deg);
    }
    
    .gpu:nth-child(2) .fan-blade {
      transform: rotate(45deg);
    }
    
    .gpu:nth-child(2) .fan-blade:nth-child(2) {
      transform: rotate(135deg);
    }
    
    .gpu:nth-child(2) .fan-blade:nth-child(3) {
      transform: rotate(225deg);
    }
    
    .gpu:nth-child(2) .fan-blade:nth-child(4) {
      transform: rotate(315deg);
    }
    
    .gpu:nth-child(3) .fan-blade {
      transform: rotate(22.5deg);
    }
    
    .gpu:nth-child(3) .fan-blade:nth-child(2) {
      transform: rotate(112.5deg);
    }
    
    .gpu:nth-child(3) .fan-blade:nth-child(3) {
      transform: rotate(202.5deg);
    }
    
    .gpu:nth-child(3) .fan-blade:nth-child(4) {
      transform: rotate(292.5deg);
    }
    
    .gpu-led {
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #00ff00;
      box-shadow: 0 0 10px #0f0;
      opacity: 0.7;
      animation-play-state: paused;
    }
    
    .mining-animation.playing .gpu-led {
      animation: pulse 1s infinite;
    }
    
    .blockchain {
      position: absolute;
      top: 30px;
      width: 100%;
      height: 100px;
      display: flex;
      justify-content: center;
    }
    
    .block {
      width: 50px;
      height: 50px;
      background: #3a3a4a;
      border: 2px solid #00ccff;
      border-radius: 8px;
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 1rem;
      color: #00ccff;
      box-shadow: 0 0 15px rgba(0, 204, 255, 0.5);
      animation-play-state: paused;
    }
    
    .mining-animation.playing .block {
      animation: float-block 3s ease-in-out infinite;
    }
    
    .block:nth-child(1) {
      left: 30%;
      animation-delay: 0s;
      z-index: 3;
    }
    
    .block:nth-child(2) {
      left: 50%;
      animation-delay: -1s;
      z-index: 2;
    }
    
    .block:nth-child(3) {
      left: 70%;
      animation-delay: -2s;
      z-index: 1;
    }
    
    .block::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(0, 204, 255, 0.3), transparent);
      animation: block-light 2s linear infinite;
    }
    
    /* Animations */
    @keyframes gpu-light {
      0% {
        transform: translateX(-100%);
      }
      
      100% {
        transform: translateX(100%);
      }
    }
    
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      
      100% {
        transform: rotate(360deg);
      }
    }
    
    @keyframes pulse {
      
      0%,
      100% {
        opacity: 0.7;
      }
      
      50% {
        opacity: 1;
      }
    }
    
    @keyframes float-block {
      
      0%,
      100% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
      
      50% {
        transform: translateY(-20px) scale(1.1);
        opacity: 0.8;
      }
    }
    
    @keyframes block-light {
      0% {
        opacity: 0;
      }
      
      50% {
        opacity: 1;
      }
      
      100% {
        opacity: 0;
      }
    }
    
    .btn-group {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin: 20px auto;
    }
    
    .action-btn {
      padding: 12px 24px;
      font-size: 16px;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      color: #000;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 255, 255, 0.4);
      transition: all 0.3s ease;
      font-weight: bold;
      font-family: 'Courier New', monospace;
    }
    
    .action-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(107, 92, 231, 0.5);
    }
    
    .action-btn:disabled {
      background: #666;
      cursor: not-allowed;
      color: #aaa;
      transform: none;
      box-shadow: none;
    }
    
    .session-status {
      margin: 15px 0;
      padding: 10px;
      border-radius: 8px;
      background: rgba(0, 100, 200, 0.2);
      font-size: 14px;
      text-align: center;
    }
    
    .balance-display {
      font-size: 28px;
      font-weight: bold;
      margin: 10px 0;
      color: var(--primary);
      text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
      text-align: center;
    }
    
    #preloader {
      height: 100vh;
      width: 100%;
      position: fixed;
      z-index: 100;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(13, 14, 22, 0.9);
    }
    
    /* CSS Spinner */
    .spinner {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(0, 204, 255, 0.2);
      border-top: 5px solid var(--secondary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      
      100% {
        transform: rotate(360deg);
      }
    }
    
    /* Mining History Styles */
    .history-container {
      max-height: 300px;
      overflow-y: auto;
      margin-top: 15px;
      padding: 10px;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.2);
    }
    
    .history-header {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-weight: bold;
      border-bottom: 1px solid #00ccff;
      color: #00ffcc;
      position: sticky;
      top: 0;
      background: rgba(28, 28, 42, 0.9);
      z-index: 2;
    }
    
    .history-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid rgba(0, 204, 255, 0.3);
      font-size: 14px;
    }
    
    .history-date,
    .history-amount {
      width: 45%;
      text-align: center;
    }
    
    .history-status {
      width: 30%;
      text-align: center;
    }
    
    .status-completed {
      color: #00ff00;
    }
    
    .status-pending {
      color: #ffcc00;
    }
    
    .no-history {
      padding: 20px 0;
      color: #aaa;
      font-style: italic;
      text-align: center;
    }
    
    .history-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    .refresh-btn {
      background: none;
      border: none;
      color: var(--secondary);
      cursor: pointer;
      font-size: 18px;
    }
    
    .mining-card {
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin: 20px 0;
      position: relative;
      overflow: hidden;
    }
    
    .mining-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
    }
    
    .mining-card h3 {
      color: var(--primary);
      margin-top: 0;
    }
    
    .progress-bar {
      height: 10px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 5px;
      overflow: hidden;
      margin: 15px 0;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
      border-radius: 5px;
      width: 0%;
      transition: width 0.5s ease;
    }
    
    /* Friends Section */
    .friends-section {
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin-top: 30px;
      position: relative;
      overflow: hidden;
    }
    
    .friends-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
    }
    
    .friends-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    
    .friend-card {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      padding: 15px 10px;
      text-align: center;
      transition: transform 0.3s;
    }
    
    .friend-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 204, 255, 0.3);
    }
    
    .friend-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      margin: 0 auto 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
    }
    
    .friend-name {
      font-size: 14px;
      color: var(--primary);
      margin: 5px 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .friend-date {
      font-size: 12px;
      color: #b0b0d0;
    }
    
    .referral-link-container {
      display: flex;
      margin-top: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      padding: 10px;
      align-items: center;
    }
    
    .referral-link {
      flex: 1;
      background: rgba(30, 31, 48, 0.5);
      border: 1px dashed rgba(0, 204, 255, 0.5);
      border-radius: 8px;
      padding: 10px;
      font-family: monospace;
      color: var(--primary);
      font-size: 14px;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .copy-btn {
      background: var(--accent);
      border: none;
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      margin-left: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .copy-btn:hover {
      background: var(--secondary);
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .mining-container {
        flex-direction: column;
      }
      
      .stats-panel {
        flex-direction: column;
      }
      
      .logo-left h1 {
        font-size: 20px;
      }
      
      .info-icon {
        padding: 10px;
      }
      
      .wallet-display {
        position: absolute;
        top: 80px;
        right: 20px;
        font-size: 14px;
      }
      
      .friends-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* Mining animation in corner */
    .mining-indicator {
      position: fixed;
      bottom: 70px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid var(--secondary);
      box-shadow: 0 0 15px rgba(0, 204, 255, 0.3);
      z-index: 5;
      animation: pulse 2s infinite;
    }
    
    .mining-indicator i {
      color: var(--primary);
      font-size: 24px;
      animation: spin 4s linear infinite;
    }
    
    .buy-tokens {
      flex: 1;
      min-width: 300px;
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      position: relative;
      overflow: hidden;
    }
    
    /* Leaderboard Styles */
    .leaderboard-section {
      background: var(--card-bg);
      border: 1px solid rgba(0, 204, 255, 0.3);
      border-radius: 15px;
      padding: 25px;
      margin-top: 30px;
      position: relative;
      overflow: hidden;
    }
    
    .leaderboard-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--secondary));
    }
    
    .leaderboard-header {
      display: flex;
      padding: 10px 15px;
      font-weight: bold;
      border-bottom: 2px solid var(--accent);
      color: var(--primary);
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px 8px 0 0;
    }
    
    .leaderboard-rank {
      width: 60px;
      text-align: center;
    }
    
    .leaderboard-user {
      flex: 1;
      padding-left: 20px;
    }
    
    .leaderboard-coins {
      width: 150px;
      text-align: right;
      padding-right: 10px;
    }
    
    .leaderboard-rows {
      max-height: 400px;
      overflow-y: auto;
    }
    
    .leaderboard-row {
      display: flex;
      padding: 12px 15px;
      border-bottom: 1px solid rgba(0, 204, 255, 0.2);
      align-items: center;
      transition: background 0.3s;
    }
    
    .leaderboard-row:hover {
      background: rgba(0, 204, 255, 0.1);
    }
    
    .rank-badge {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin-right: 10px;
    }
    
    .rank-1 {
      background: var(--gold);
      color: #000;
      box-shadow: 0 0 10px var(--gold);
    }
    
    .rank-2 {
      background: var(--silver);
      color: #000;
      box-shadow: 0 0 10px var(--silver);
    }
    
    .rank-3 {
      background: var(--bronze);
      color: #fff;
      box-shadow: 0 0 10px var(--bronze);
    }
    
    .user-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--secondary));
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      font-size: 16px;
      color: white;
      flex-shrink: 0;
    }
    
    .user-info {
      flex: 1;
      min-width: 0;
    }
    
    .user-name {
      font-weight: bold;
      color: var(--primary);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .user-username {
      font-size: 12px;
      color: #b0b0d0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .coins-display {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      width: 150px;
    }
    
    .coins-value {
      font-weight: bold;
      color: var(--warning);
      margin-right: 5px;
    }
    
    .coins-icon {
      color: var(--warning);
    }
    
    .empty-leaderboard {
      padding: 30px;
      text-align: center;
      color: #aaa;
      font-style: italic;
    }
    
    .leaderboard-title {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .leaderboard-refresh {
      background: none;
      border: none;
      color: var(--secondary);
      cursor: pointer;
      font-size: 18px;
    }
  </style>
</head>

<body>
  <div id="root"></div>
  
  <!-- React and Babel dependencies -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  
  <!-- React Application -->
  <script type="text/babel">
    // Firebase configuration
    const firebaseConfig = {
  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,
  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,
  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,
  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,
  appId: process.env.REACT_APP_FIREBASE_APP_ID,
  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,
  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL
};


    
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const auth = firebase.auth();
    
    // React Components
    const { useState, useEffect, useRef } = React;
    
    // Notification Component
    function Notification({ message, show }) {
      return (
        <div className={`notification ${show ? 'show' : ''}`} id="notification">
          {message}
        </div>
      );
    }
    
    // User Panel Component
    function UserPanel({ active, onClose, user }) {
      return (
        <div className={`user-panel ${active ? 'active' : ''}`} id="userPanel">
          <div className="panel-content">
            <span className="close-btn" onClick={onClose}>&times;</span>
            <h2>User Info</h2>
            <p><strong>Full Name:</strong> <span id="info-name">{user?.name || ''}</span></p>
            <p><strong>Phone:</strong> <span id="info-tel">{user?.tel || ''}</span></p>
            <p><strong>Email:</strong> <span id="info-email">{user?.email || ''}</span></p>
            <p><strong>Username:</strong> <span id="info-username">{user?.username || ''}</span></p>
            <p><strong>Date of Birth:</strong> <span id="info-dob">{user?.dob || ''}</span></p>
            <p><strong>TON Wallet:</strong> <span id="info-wallet" style={{wordBreak: 'break-all', color: 'var(--primary)'}}>
              {user?.tonWallet || ''}
            </span></p>
            <button className="logout-btn" onClick={() => logout()}>
              <i className="fas fa-sign-out-alt"></i> Log Out
            </button>
            
            <div className="extra-links" style={{marginTop: '20px'}}>
              <button onClick={() => window.location.href = "WhitePaper.html"} className="action-btn" style={{width: '100%', marginTop: '10px'}}>
                White Paper
              </button>
            </div>
          </div>
          
          <div className="footer">© ByteMiner 2025. All rights reserved.</div>
        </div>
      );
    }
    
    // Mining Animation Component
    function MiningAnimation({ playing }) {
      return (
        <div className={`mining-animation ${playing ? 'playing' : ''}`} id="fan">
          <div className="blockchain">
            <div className="block">B1</div>
            <div className="block">B2</div>
            <div className="block">B3</div>
          </div>
          
          <div className="mining-rig">
            <div className="gpu">
              <div className="gpu-fan">
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
              </div>
              <div className="gpu-led"></div>
            </div>
            <div className="gpu">
              <div className="gpu-fan">
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
              </div>
              <div className="gpu-led"></div>
            </div>
            <div className="gpu">
              <div className="gpu-fan">
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
                <div className="fan-blade"></div>
              </div>
              <div className="gpu-led"></div>
            </div>
          </div>
        </div>
      );
    }
    
    // Stat Card Component
    function StatCard({ label, value, color = 'var(--primary)' }) {
      return (
        <div className="stat-card">
          <div className="stat-label">{label}</div>
          <div className="stat-value" style={{ color }}>{value}</div>
        </div>
      );
    }
    
    // History Row Component
    function HistoryRow({ date, amount, status }) {
      return (
        <div className="history-row">
          <div className="history-date">{date}</div>
          <div className="history-amount">{amount.toFixed(4)}</div>
          <div className={`history-status ${status === 'completed' ? 'status-completed' : 'status-pending'}`}>
            {status.charAt(0).toUpperCase() + status.slice(1)}
          </div>
        </div>
      );
    }
    
    // Friend Card Component
    function FriendCard({ name, joinDate, active }) {
      return (
        <div className="friend-card">
          <div className="friend-avatar">
            <i className="fas fa-user"></i>
          </div>
          <div className="friend-name">{name}</div>
          <div className="friend-date">Joined: {joinDate.substring(5)}</div>
          {active ? 
            <div className="friend-status" style={{color:'#00ff00', fontSize:'12px', marginTop:'5px'}}>Active</div> : 
            <div className="friend-status" style={{color:'#ffcc00', fontSize:'12px', marginTop:'5px'}}>Inactive</div>
          }
        </div>
      );
    }
    
    // Leaderboard Row Component
    function LeaderboardRow({ rank, name, username, coins }) {
      return (
        <div className="leaderboard-row">
          <div className="leaderboard-rank">
            <div className={`rank-badge ${rank === 1 ? 'rank-1' : rank === 2 ? 'rank-2' : rank === 3 ? 'rank-3' : ''}`}>
              {rank}
            </div>
          </div>
          <div className="leaderboard-user">
            <div className="user-avatar">
              <i className="fas fa-user"></i>
            </div>
            <div className="user-info">
              <div className="user-name">{name}</div>
              <div className="user-username">@{username}</div>
            </div>
          </div>
          <div className="leaderboard-coins">
            <div className="coins-display">
              <div className="coins-value">{coins.toFixed(4)}</div>
              <i className="fas fa-coins coins-icon"></i>
            </div>
          </div>
        </div>
      );
    }
    
    // Main App Component
    function App() {
      // Mining constants
      const multiplier = 10000;
      const miningRate = 0.0005 * multiplier;
      const mineSeconds = 10800;
      const MAX_TOKENS_PER_SESSION = 5.4;
      
      // State variables
      const [preloaderVisible, setPreloaderVisible] = useState(true);
      const [user, setUser] = useState(null);
      const [mining, setMining] = useState(false);
      const [minedAmount, setMinedAmount] = useState(0);
      const [remainingTime, setRemainingTime] = useState(mineSeconds);
      const [coinBalance, setCoinBalance] = useState(0);
      const [showNotification, setShowNotification] = useState(false);
      const [notificationMessage, setNotificationMessage] = useState('');
      const [sessionStatus, setSessionStatus] = useState({
        text: 'No active mining session',
        bgColor: 'rgba(0, 100, 200, 0.2)'
      });
      const [miningHistory, setMiningHistory] = useState([]);
      const [friends, setFriends] = useState([]);
      const [leaderboard, setLeaderboard] = useState([]);
      const [userPanelActive, setUserPanelActive] = useState(false);
      
      // Stats
      const [friendsCount, setFriendsCount] = useState(0);
      const [activeFriends, setActiveFriends] = useState(0);
      const [referralBonus, setReferralBonus] = useState(0);
      
      // Refs for intervals
      const miningIntervalRef = useRef(null);
      const countdownIntervalRef = useRef(null);
      
      // Format time as HH:MM:SS
      const formatTime = (secs) => {
        const h = String(Math.floor(secs / 3600)).padStart(2, '0');
        const m = String(Math.floor((secs % 3600) / 60)).padStart(2, '0');
        const s = String(secs % 60).padStart(2, '0');
        return `${h}:${m}:${s}`;
      };
      
      // Format date
      const formatDate = (timestamp) => {
        const date = new Date(timestamp);
        return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
      };
      
      // Show notification
      const showNotif = (message) => {
        setNotificationMessage(message);
        setShowNotification(true);
        setTimeout(() => setShowNotification(false), 3000);
      };
      
      // Toggle user panel
      const togglePanel = () => {
        setUserPanelActive(!userPanelActive);
      };
      
      // Logout function
      const logout = () => {
        // Save session before logout
        saveSession();
        
        auth.signOut().then(() => {
          alert("Logged out successfully!");
          localStorage.removeItem("loggedInUser");
          window.location.href = "login.html";
        }).catch((error) => {
          console.error("Logout error:", error);
          alert("Logout failed. Please try again.");
        });
      };
      
      // Copy referral link
      const copyReferralLink = () => {
        if (!user) return;
        
        navigator.clipboard.writeText(`https://byteminer.com/signup?ref=${user.username}`)
          .then(() => {
            showNotif("Referral link copied to clipboard!");
          })
          .catch(err => {
            console.error('Failed to copy: ', err);
          });
      };
      
      // Save mining session
      const saveSession = () => {
        if (!user || !mining) return;
        
        const sessionData = {
          startTime: Date.now(),
          minedAmount: minedAmount,
          remainingTime: remainingTime,
          mining: mining,
          version: 2
        };
        
        db.ref(`miningSessions/${user.username}`).set(sessionData)
          .then(() => console.log("Session saved"))
          .catch(error => console.error("Error saving session:", error));
      };
      
      // Load mining session
      const loadSession = async () => {
        if (!user) return null;
        
        try {
          const snapshot = await db.ref(`miningSessions/${user.username}`).once('value');
          return snapshot.exists() ? snapshot.val() : null;
        } catch (error) {
          console.error("Error loading session:", error);
          return null;
        }
      };
      
      // Delete mining session
      const deleteSession = () => {
        if (!user) return;
        
        db.ref(`miningSessions/${user.username}`).remove()
          .then(() => console.log("Session deleted"))
          .catch(error => console.error("Error deleting session:", error));
      };
      
      // Save mining history
      const saveMiningHistory = (amount) => {
        if (!user) return;
        
        const historyData = {
          timestamp: Date.now(),
          amount: amount,
          status: 'completed'
        };
        
        const newHistoryRef = db.ref(`miningHistory/${user.username}`).push();
        newHistoryRef.set(historyData)
          .then(() => {
            console.log("Mining history saved");
            fetchMiningHistory();
          })
          .catch(error => console.error("Error saving mining history:", error));
      };
      
      // Fetch mining history
      const fetchMiningHistory = async () => {
        if (!user) return;
        
        try {
          const snapshot = await db.ref(`miningHistory/${user.username}`).once('value');
          let history = [];
          
          if (snapshot.exists()) {
            snapshot.forEach(childSnapshot => {
              history.push({
                id: childSnapshot.key,
                ...childSnapshot.val()
              });
            });
            
            history.sort((a, b) => b.timestamp - a.timestamp);
            setMiningHistory(history);
          } else {
            setMiningHistory([]);
          }
        } catch (error) {
          console.error("Error fetching mining history:", error);
          setMiningHistory([]);
        }
      };
      
      // Fetch friends data from Firebase
      const fetchFriendsData = async () => {
        if (!user) return;
        
        try {
          const snapshot = await db.ref("byteUsers").orderByChild("referredBy").equalTo(user.username).once('value');
          let friendsData = [];
          
          if (snapshot.exists()) {
            snapshot.forEach(childSnapshot => {
              const friend = childSnapshot.val();
              friendsData.push({
                id: childSnapshot.key,
                name: friend.name || "Friend",
                username: friend.username,
                joinDate: friend.joinDate || new Date().toISOString().split('T')[0],
                active: friend.lastActive ? (Date.now() - friend.lastActive) < 604800000 : false
              });
            });
            
            setFriends(friendsData);
            
            // Update stats
            setFriendsCount(friendsData.length);
            setActiveFriends(friendsData.filter(f => f.active).length);
            setReferralBonus(friendsData.length);
          } else {
            setFriends([]);
            setFriendsCount(0);
            setActiveFriends(0);
            setReferralBonus(0);
          }
        } catch (error) {
          console.error("Error fetching friends data:", error);
          setFriends([]);
        }
      };
      
      // Fetch user coin balance
      const fetchUserCoinBalance = async () => {
        if (!user) return;
        
        try {
          const snapshot = await db.ref(`byteUsers/${user.username}/coin`).once('value');
          const balance = parseFloat(snapshot.val() || 0);
          setCoinBalance(balance);
        } catch (error) {
          console.error("Failed to fetch coin balance:", error);
        }
      };
      
      // Fetch leaderboard data from Firebase
      const fetchLeaderboard = async () => {
        try {
          const snapshot = await db.ref("byteUsers").once('value');
          let users = [];
          
          if (snapshot.exists()) {
            snapshot.forEach(childSnapshot => {
              const user = childSnapshot.val();
              users.push({
                id: childSnapshot.key,
                name: user.name || "Anonymous Miner",
                username: user.username,
                coins: parseFloat(user.coin) || 0
              });
            });
            
            // Sort by coins descending and keep top 20
            users.sort((a, b) => b.coins - a.coins);
            setLeaderboard(users.slice(0, 20));
          } else {
            setLeaderboard([]);
          }
        } catch (error) {
          console.error("Error fetching leaderboard data:", error);
          setLeaderboard([]);
        }
      };
      
      // Start mining
      const startMining = () => {
        if (mining) return;
        
        setMining(true);
        setSessionStatus({
          text: "Mining in progress...",
          bgColor: "rgba(0, 150, 0, 0.2)"
        });
        
        saveSession();
        
        // Mining interval
        miningIntervalRef.current = setInterval(() => {
          setMinedAmount(prevAmount => {
            const newAmount = prevAmount + miningRate;
            return newAmount > MAX_TOKENS_PER_SESSION * multiplier ? 
              MAX_TOKENS_PER_SESSION * multiplier : newAmount;
          });
        }, 1000);
        
        // Countdown interval
        countdownIntervalRef.current = setInterval(() => {
          setRemainingTime(prevTime => {
            if (prevTime <= 1) {
              endMiningSession();
              return 0;
            }
            return prevTime - 1;
          });
        }, 1000);
      };
      
      // End mining session
      const endMiningSession = () => {
        clearInterval(miningIntervalRef.current);
        clearInterval(countdownIntervalRef.current);
        
        setMining(false);
        setSessionStatus({
          text: "Mining completed! Ready to claim tokens.",
          bgColor: "rgba(0, 100, 200, 0.2)"
        });
        
        saveSession();
      };
      
      // Resume mining session
      const resumeMiningSession = (savedSession) => {
        if (savedSession.version !== 2) {
          savedSession.minedAmount = Math.round(savedSession.minedAmount * multiplier);
        }
        
        const now = Date.now();
        const elapsed = Math.floor((now - savedSession.startTime) / 1000);
        const actualElapsed = Math.min(elapsed, savedSession.remainingTime);
        
        setRemainingTime(savedSession.remainingTime - actualElapsed);
        setMinedAmount(savedSession.minedAmount + (actualElapsed * miningRate));
        
        if (savedSession.remainingTime - actualElapsed <= 0) {
          setMinedAmount(savedSession.minedAmount + (savedSession.remainingTime * miningRate));
          setRemainingTime(0);
          setSessionStatus({
            text: "Previous mining session completed - ready to claim!",
            bgColor: "rgba(0, 100, 200, 0.2)"
          });
          showNotif("Previous mining session completed - ready to claim!");
          return;
        }
        
        setMining(true);
        setSessionStatus({
          text: "Resuming mining session...",
          bgColor: "rgba(0, 150, 0, 0.2)"
        });
        showNotif("Previous mining session resumed!");
        
        // Start intervals
        miningIntervalRef.current = setInterval(() => {
          setMinedAmount(prevAmount => {
            const newAmount = prevAmount + miningRate;
            return newAmount > MAX_TOKENS_PER_SESSION * multiplier ? 
              MAX_TOKENS_PER_SESSION * multiplier : newAmount;
          });
        }, 1000);
        
        const resumeTime = Date.now();
        countdownIntervalRef.current = setInterval(() => {
          const currentElapsed = Math.floor((Date.now() - resumeTime) / 1000);
          setRemainingTime(prev => {
            const newRemaining = Math.max(0, prev - currentElapsed);
            if (newRemaining <= 0) {
              endMiningSession();
            }
            return newRemaining;
          });
        }, 1000);
      };
      
      // Claim tokens
      const claimTokens = async () => {
        if (!user) {
          alert("Login required");
          window.location.href = "login.html";
          return;
        }
        
        const tokenAmount = minedAmount / multiplier;
        
        if (tokenAmount <= 0) {
          alert("No tokens to claim.");
          return;
        }
        
        const userRef = db.ref("byteUsers/" + user.username);
        
        try {
          const snapshot = await userRef.once("value");
          if (!snapshot.exists()) {
            await userRef.set({ coin: 0.0000 });
          }
          
          userRef.child("coin").transaction((currentBalance) => {
            const current = parseFloat(currentBalance) || 0;
            return parseFloat((current + tokenAmount).toFixed(4));
          }, (error, committed, snapshot) => {
            if (error) {
              console.error("Transaction failed: ", error);
              alert("Error claiming tokens. Please try again.");
            } else if (!committed) {
              alert("Transaction not committed.");
            } else {
              showNotif(`You claimed ${tokenAmount.toFixed(4)} ByteTokens!`);
              setMinedAmount(0);
              setRemainingTime(mineSeconds);
              setSessionStatus({
                text: "No active mining session",
                bgColor: "rgba(0, 100, 200, 0.2)"
              });
              deleteSession();
              setCoinBalance(parseFloat(snapshot.val()));
              saveMiningHistory(tokenAmount);
            }
          });
        } catch (error) {
          console.error("Claim tokens error:", error);
          alert("Error claiming tokens. Please try again.");
        }
      };
      
      // Load buy tokens
      const loadBuyTokens = () => {
        showNotif("Not Available At the Moment!");
      };
      
      
             // Load saved session
 
      // Initialize app
   useEffect(() => {
  // Load user from localStorage
  const userData = localStorage.getItem("loggedInUser");
  
  if (userData) {
    try {
      const parsedUser = JSON.parse(userData);
      setUser(parsedUser);
    } catch (error) {
      console.error("Error parsing user data:", error);
    }
  } else {
    // Redirect if not authenticated
    setTimeout(() => {
      if (!auth.currentUser) {
        window.location.href = "login.html";
      }
    }, 1500);
  }
  
  // Show preloader for 3 seconds
  const timer = setTimeout(() => {
    setPreloaderVisible(false);
  }, 3000);
  
  // Cleanup on unmount
  return () => {
    clearTimeout(timer);
    clearInterval(miningIntervalRef.current);
    clearInterval(countdownIntervalRef.current);
    
    if (mining) {
      saveSession();
    }
  };
}, []); // 🔁 Runs only once on mount

// Load saved mining session when user is ready
useEffect(() => {
  const loadSavedSession = async () => {
    if (!user) return;
    
    const savedSession = await loadSession();
    
    if (savedSession && savedSession.mining) {
      resumeMiningSession(savedSession);
    } else if (savedSession && savedSession.minedAmount > 0) {
      setMinedAmount(savedSession.minedAmount);
      setRemainingTime(0);
      setSessionStatus({
        text: "Previous mining session completed - ready to claim!",
        bgColor: "rgba(0, 100, 200, 0.2)"
      });
      showNotif("Previous mining session completed - ready to claim!");
    }
  };
  
  loadSavedSession(); // Call only when user is available
}, [user]);

// Fetch user-related data when user is set
useEffect(() => {
  if (user) {
    fetchUserCoinBalance();
    fetchFriendsData();
    fetchLeaderboard();
    fetchMiningHistory();
  }
}, [user]);
    

      // Calculate progress percentage
      const progressPercent = 100 - (remainingTime / mineSeconds * 100);
      
      return (
        <div>
          {preloaderVisible && (
            <div id="preloader">
              <div className="spinner"></div>
            </div>
          )}
          
          <div className="logo-container">
            <div className="logo-left">
              <div className="logo-img">
                <i className="fas fa-microchip"></i>
              </div>
              <h1>ByteMiner</h1>
            </div>
            <div className="wallet-display">
              <i className="fas fa-coins coin-icon"></i>
              <div id="coin">Coins: <span id="coin-value" className="balance-display">{coinBalance.toFixed(4)}</span></div>
            </div>
            <div className="info-icon" onClick={togglePanel}>
              <i className="fas fa-info-circle"></i>
            </div>
          </div>
          
          <div className="mining-indicator">
            <i className="fas fa-microchip"></i>
          </div>
          
          <Notification message={notificationMessage} show={showNotification} />
          
          <div id="dashboard">
            <h1 className="section-title">DASHBOARD</h1>
            <h3>Welcome, <span id="user-name">{user?.name || 'User'}</span></h3>
            
            {/* Stats Panel */}
            <div className="stats-panel">
              <StatCard label="MINING RATE" value="0.0005 BT/s" />
              <StatCard label="FRIENDS" value={friendsCount} />
              <StatCard label="TEMP" value="25°C" />
              <StatCard label="POWER" value="220W" />
            </div>
            
            <div className="buy-tokens">
              <strong>Purchase BT Tokens to increase mined balance</strong>
              <div className="btn-group">
                <button className="action-btn" id="buy-tokens" onClick={loadBuyTokens}>Buy BT Tokens</button>
              </div>
            </div>
            
            <div className="mining-container">
              <div className="mining-animation-section">
                <h3>Mining Visualization</h3>
                <MiningAnimation playing={mining} />
                <div className="session-status" id="session-status" style={{ backgroundColor: sessionStatus.bgColor }}>
                  {sessionStatus.text}
                </div>
              </div>
              
              <div className="mining-controls">
                <h3>Mining Controls</h3>
                <div className="mining-card">
                  <h3>Current Session</h3>
                  <p id="token-counter" className="balance-display">{(minedAmount / multiplier).toFixed(4)}</p>
                  <p id="timer" style={{textAlign: 'center', color: '#ccc'}}>Timer: {formatTime(remainingTime)}</p>
                  
                  <div className="progress-bar">
                    <div className="progress-fill" id="mining-progress" style={{width: `${progressPercent}%`}}></div>
                  </div>
                  
                  <div className="btn-group">
                    <button 
                      className="action-btn" 
                      id="mine-btn" 
                      onClick={startMining}
                      disabled={mining || remainingTime === 0}
                    >
                      Start Mining
                    </button>
                    <button 
                      className="action-btn" 
                      id="claim-btn" 
                      onClick={claimTokens}
                      disabled={minedAmount === 0 || remainingTime > 0}
                    >
                      Claim Tokens
                    </button>
                  </div>
                  
                  <div className="session-info">
                    <p><i className="fas fa-info-circle"></i> Max session duration: 3 hours</p>
                    <p><i className="fas fa-coins"></i> Max tokens per session: 5.4</p>
                  </div>
                </div>
                
                <div className="mining-card">
                  <div className="history-title">
                    <h3>Mining History</h3>
                    <button className="refresh-btn" id="refresh-history" title="Refresh history" onClick={fetchMiningHistory}>
                      <i className="fas fa-sync-alt"></i>
                    </button>
                  </div>
                  <div className="history-container" id="mining-history">
                    <div className="history-header">
                      <div className="history-date">Date</div>
                      <div className="history-amount">Amount</div>
                      <div className="history-status">Status</div>
                    </div>
                    
                    {miningHistory.length === 0 ? (
                      <div className="no-history">No mining history yet. Start mining to see your history!</div>
                    ) : (
                      miningHistory.map(item => (
                        <HistoryRow 
                          key={item.id}
                          date={formatDate(item.timestamp)} 
                          amount={item.amount} 
                          status={item.status} 
                        />
                      ))
                    )}
                  </div>
                </div>
              </div>
            </div>
            
            <div className="friends-section">
              <h3>Your Referral Network</h3>
              <p>Earn bonus tokens when friends sign up using your referral link!</p>
              
              <div className="referral-link-container">
                <div className="referral-link" id="referral-link">
                  {user ? `https://byteminer.com/signup?ref=${user.username}` : 'Loading...'}
                </div>
                <button className="copy-btn" onClick={copyReferralLink}>
                  <i className="fas fa-copy"></i> Copy
                </button>
              </div>
              
              <div className="stats-panel" style={{marginTop: '20px'}}>
                <StatCard label="TOTAL FRIENDS" value={friendsCount} />
                <StatCard label="ACTIVE FRIENDS" value={activeFriends} />
                <StatCard label="REFERRAL BONUS" value={referralBonus.toFixed(2)} />
              </div>
              
              <h4 style={{marginTop: '25px', marginBottom: '15px', color: 'var(--primary)'}}>Your Friends</h4>
              <div className="friends-grid" id="friends-grid">
                {friends.length === 0 ? (
                  <div className="friend-card">
                    <div className="friend-avatar">
                      <i className="fas fa-user-plus"></i>
                    </div>
                    <div className="friend-name">No friends yet</div>
                    <div className="friend-date">Share your link!</div>
                  </div>
                ) : (
                  friends.map(friend => (
                    <FriendCard 
                      key={friend.id}
                      name={friend.name}
                      joinDate={friend.joinDate}
                      active={friend.active}
                    />
                  ))
                )}
              </div>
            </div>
            
            {/* Leaderboard Section */}
            <div className="leaderboard-section">
              <div className="leaderboard-title">
                <h3><i className="fas fa-trophy"></i> ByteMiner Leaderboard</h3>
                <button className="leaderboard-refresh" id="refresh-leaderboard" title="Refresh leaderboard" onClick={fetchLeaderboard}>
                  <i className="fas fa-sync-alt"></i>
                </button>
              </div>
              <p>Top miners with the highest coin balances</p>
              
              <div className="leaderboard-header">
                <div className="leaderboard-rank">Rank</div>
                <div className="leaderboard-user">Miner</div>
                <div className="leaderboard-coins">Coins</div>
              </div>
              
              <div className="leaderboard-rows" id="leaderboard-rows">
                {leaderboard.length === 0 ? (
                  <div className="empty-leaderboard">
                    <i className="fas fa-spinner fa-spin"></i> Loading leaderboard...
                  </div>
                ) : (
                  leaderboard.map((user, index) => (
                    <LeaderboardRow 
                      key={user.id}
                      rank={index + 1}
                      name={user.name}
                      username={user.username}
                      coins={user.coins}
                    />
                  ))
                )}
              </div>
            </div>
          </div>
          
          <div className="nav-bar">
            <a href="Task.html" className="nav-item">
              <i className="fas fa-tasks"></i>
              <span>Tasks</span>
            </a>
            <a href="Dashboard.html" className="nav-item active">
              <i className="fas fa-database"></i>
              <span>Mine</span>
            </a>
            <a href="Withdraw.html" className="nav-item">
              <i className="fas fa-wallet"></i>
              <span>Withdraw</span>
            </a>
          </div>
          
          <UserPanel 
            active={userPanelActive} 
            onClose={togglePanel} 
            user={user} 
          />
        </div>
      );
    }
    
    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>

</html>